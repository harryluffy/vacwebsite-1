<h1 class="fontColor1 bowlby">ADMIN - USERS</h1>
<div class="row">
  <div class="col-12">
    <%= render "flasherrors" %>
    <p>Showing <%= [50, @users.size].min %> out of <%= @users.size %> results.</p>
    <p>There are a total of <%= @num_pages %> pages.</p>
    <div class="table-responsive">
      <table class="table">
        <tr>
          <th></th>
          <th>First Name</th>
          <th>Last Name</th>
          <th>E-mail</th>
          <th>User since</th>
          <th>Last updated</th>
          <th></th>
        </tr>
        <% @users.each do |u|  %>
        <tr>
          <td><%= @i %></td>
          <td><%= u.firstname  %></td>
          <td><%= u.lastname %></td>
          <td><%= u.email %></td>
          <td><%= u.created_at.strftime("%-m/%-d/%y") %></td>
          <td><%= u.updated_at.strftime("%-m/%-d/%y") %></td>
          <td><%= link_to "Delete", delete_user_path(u.id), method: :delete, data: { confirm: 
            'Are you sure you want to delete ' + u.firstname + " " + u.lastname + "?" 
          } %></td>
        </tr>
        <% @i = @i + 1 %>
        <% end %>
      </table>
    </div>
  </div>
  <div class="col-12 text-center">
    <%= (link_to '<', admin_users_path(page: (@page - 1))) unless @page - 1 < 1 %>
    <% for p in 1..(@num_pages)  %>
      <%= if @page != p then link_to p, admin_users_path(page: p) else p end %>
    <% end %>
    <%= (link_to '>', admin_users_path(page: (@page + 1))) unless @page + 1 > @num_pages %>
  </div>
</div>